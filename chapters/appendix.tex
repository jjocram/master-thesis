\documentclass[../thesis.tex]{subfiles}
\begin{document}
\appendix
\chapter{Configuration file}
\section{Automaton configuration}\label{appendix:automaton_configuration_file}
\begin{lstlisting}[caption=JSON configuration file for the automaton]
{
  "initial_state": "q0",
  "transitions": [
    {
      "from": "q0",
      "to": "q1",
      "with": "pick_up",
      "action": null
    },
    {
      "from": "q0",
      "to": "q2",
      "with": "go_to",
      "action": null
    },
    {
      "from": "q2",
      "to": "q0",
      "with": "A-Z",
      "action": {
        "type": "set_navigation_goal",
        "coordinate": "$with"
      }
    },
    {
      "from": "q1",
      "to": "q3",
      "with": "A-Z",
      "action": {
        "type": "send_message",
        "message": {
          "type": "/control_arm",
          "data": "pick_up $with"
        }
      }
    },
    {
      "from": "q3",
      "to": "q0",
      "with": "drop_down",
      "action": {
        "type": "send_message",
        "message": {
          "type": "/control_arm",
          "data": "drop_down"
        }
      }
    },
    {
      "from": "q3",
      "to": "q4",
      "with": "go_to",
      "action": null
    },
    {
      "from": "q4",
      "to": "q3",
      "with": "A-Z",
      "action": {
        "type": "set_navigation_goal",
        "coordinate": "$with"
      }
    }
  ]
}
\end{lstlisting}

\end{document}